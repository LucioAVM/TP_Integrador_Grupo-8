<!DOCTYPE html>
<html lang="es">
  <%- include('../partials/head.ejs') %>
  <link rel="stylesheet" href="/assets/css/editar_producto.css" />
  <body>
    <%- include('../partials/nav.ejs') %>
    <main class="contenedor-editar">
      <h1 class="titulo">Editar Producto</h1>
      <form action="/productos/<%= producto.id %>/editar" method="POST" enctype="multipart/form-data">
        <div class="form-group">
          <label for="nombre">Nombre:</label>
          <input type="text" id="nombre" name="nombre" value="<%= producto.nombre %>" required />
        </div>
        <div class="form-group">
          <label for="descripcion">Descripción:</label>
          <textarea id="descripcion" name="descripcion" rows="4" required><%= producto.descripcion %></textarea>
        </div>
        <div class="form-group">
          <label for="precio">Precio:</label>
          <input type="number" id="precio" name="precio" value="<%= producto.precio %>" step="0.01" required />
        </div>
        <div class="form-group">
          <label for="categoria">Categoría:</label>
          <input type="text" id="categoria" name="categoria" value="<%= producto.categoria %>" />
        </div>
        <div class="form-group">
          <label for="tipo">Tipo:</label>
          <select id="tipo" name="tipo" required>
            <option value="filamento" <%= producto.tipo === 'filamento' ? 'selected' : '' %>>Filamento</option>
            <option value="resina" <%= producto.tipo === 'resina' ? 'selected' : '' %>>Resina</option>
          </select>
        </div>
        <div class="form-group">
          <label for="activo">Activo:</label>
          <select id="activo" name="activo" required>
            <option value="true" <%= producto.activo ? 'selected' : '' %>>Sí</option>
            <option value="false" <%= !producto.activo ? 'selected' : '' %>>No</option>
          </select>
        </div>
        <div class="form-group">
          <label>Imagen actual:</label><br />
          <img src="<%= producto.imagen %>" alt="Imagen del producto" class="imagen-producto" /><br />
          <label for="imagenNueva">Cambiar imagen:</label>
          <input type="file" id="imagenNueva" name="imagen" accept="image/*" />
        </div>
        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
      </form>
    </main>
    <%- include('../partials/footer.ejs') %>
  </body>
</html>